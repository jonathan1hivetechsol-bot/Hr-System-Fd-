import{d as e,r as s,j as a,e as r,R as l,f as t,n as m,o as i,L as n,I as o}from"./vendor-react-DP1fVbuu.js";import{A as c}from"./AuthSwiper-CVYsq3Ed.js";import{l as d}from"./logo-1JtIC0mN.js";import{u as h}from"../index-BZeppaX_.js";import"./vendor-firebase-Dc8JVVU0.js";import"./vendor-icons-DoxuJXhj.js";const p=()=>{const a=e(),{registerEmployeeUser:r}=h(),[l,t]=s.useState(!1),[m,i]=s.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,o]=s.useState({});return{formData:m,errors:n,loading:l,handleChange:e=>{const{name:s,value:a}=e.target;i(e=>({...e,[s]:a})),n[s]&&o(e=>{const a={...e};return delete a[s],a})},handleSubmit:async e=>{if(e.preventDefault(),!(()=>{const e={};return m.firstName.trim()||(e.firstName="First name is required"),m.lastName.trim()||(e.lastName="Last name is required"),m.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(e.email="Please enter a valid email"):e.email="Email is required",m.password?m.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",m.password!==m.confirmPassword&&(e.confirmPassword="Passwords do not match"),o(e),0===Object.keys(e).length})())return;t(!0),o({});const s=setTimeout(()=>{t(!1),o({submit:"Registration is taking too long. Please check your connection and try again."})},3e4);try{const e=`${m.firstName} ${m.lastName}`,l=await r(m.email,m.password,e);clearTimeout(s),l.success?(i({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),setTimeout(()=>{a("/auth/employee-profile-complete",{replace:!0})},500)):(clearTimeout(s),o({submit:l.error||"Registration failed. Please try again."}),t(!1))}catch(l){clearTimeout(s);const e=l instanceof Error?l.message:"An error occurred during registration";o({submit:e}),t(!1)}}}},x=()=>{const{formData:e,errors:s,loading:r,handleChange:l,handleSubmit:t}=p();return a.jsxs("form",{onSubmit:t,className:"authentication-form",children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"empFirstName",className:"form-label",children:["First Name ",a.jsx("small",{children:"*"})]}),a.jsx("input",{type:"text",className:"form-control",id:"empFirstName",placeholder:"First Name",name:"firstName",value:e.firstName,onChange:l}),s.firstName&&a.jsx("small",{className:"text-danger",children:s.firstName})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"empLastName",className:"form-label",children:["Last Name ",a.jsx("small",{children:"*"})]}),a.jsx("input",{type:"text",className:"form-control",id:"empLastName",placeholder:"Last Name",name:"lastName",value:e.lastName,onChange:l}),s.lastName&&a.jsx("small",{className:"text-danger",children:s.lastName})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"empRegEmail",className:"form-label",children:["Email ",a.jsx("small",{children:"*"})]}),a.jsx("input",{type:"email",className:"form-control",id:"empRegEmail",placeholder:"Email",name:"email",value:e.email,onChange:l}),s.email&&a.jsx("small",{className:"text-danger",children:s.email})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"empRegPassword",className:"form-label",children:["Password ",a.jsx("small",{children:"*"})]}),a.jsx("input",{type:"password",className:"form-control",id:"empRegPassword",placeholder:"Enter password",name:"password",value:e.password,onChange:l}),s.password&&a.jsx("small",{className:"text-danger",children:s.password})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"empRegConfirmPassword",className:"form-label",children:["Confirm Password ",a.jsx("small",{children:"*"})]}),a.jsx("input",{type:"password",className:"form-control",id:"empRegConfirmPassword",placeholder:"Confirm password",name:"confirmPassword",value:e.confirmPassword,onChange:l}),s.confirmPassword&&a.jsx("small",{className:"text-danger",children:s.confirmPassword})]}),s.submit&&a.jsx("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:s.submit}),a.jsx("div",{className:"mb-0 text-center d-grid",children:a.jsx("button",{className:"btn btn-primary",type:"submit",disabled:r,style:{opacity:r?.6:1,cursor:r?"not-allowed":"pointer"},children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Registering..."]}):"Sign Up"})})]})},N=()=>a.jsx("div",{className:"bg-gradient2 min-vh-100 align-items-center d-flex justify-content-center pt-2 pt-sm-5 pb-4 pb-sm-5",children:a.jsx(r,{children:a.jsx(l,{className:"justify-content-center",children:a.jsxs(t,{xl:12,children:[a.jsx(m,{children:a.jsx(i,{className:"p-0",children:a.jsxs(l,{className:"g-0",children:[a.jsx(t,{md:5,className:"shadow",children:a.jsxs("div",{className:"p-xl-5 p-3",children:[a.jsx("div",{className:"mx-auto mb-5",children:a.jsx(n,{to:"/",className:"d-flex",children:a.jsx(o,{src:d,className:"align-self-center",alt:"logo-img",height:30})})}),a.jsx("h6",{className:"h5 mb-0 mt-3",children:"Create Account"}),a.jsx("p",{className:"text-muted mt-1 mb-4",children:"Sign up to get started with your employee account."}),a.jsx(x,{})]})}),a.jsx(t,{md:5,className:"offset-md-1 d-none d-md-inline-block",children:a.jsx("div",{className:"position-relative mt-5 pt-5",children:a.jsx(c,{})})})]})})}),a.jsx(l,{className:"mt-3",children:a.jsx(t,{xs:12,className:"text-center",children:a.jsxs("p",{className:"text-muted",children:["Already have an account?"," ",a.jsx(n,{to:"/auth/employee-login",className:"text-primary fw-semibold ms-1",children:"Sign In"})]})})})]})})})});export{N as default};
