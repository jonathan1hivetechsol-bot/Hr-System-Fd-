import{d as e,r as s,j as a,L as r,e as l,R as t,f as i,n as m,o as n,I as d}from"./vendor-react-DP1fVbuu.js";import{A as c}from"./AuthSwiper-CVYsq3Ed.js";import{u as o,I as h}from"../index-DYVo_VQy.js";import{l as x}from"./logo-1JtIC0mN.js";import"./vendor-firebase-Dc8JVVU0.js";import"./vendor-icons-DoxuJXhj.js";const j=()=>{const a=e(),{signIn:r,userRole:l}=o(),[t,i]=s.useState(!1),[m,n]=s.useState({email:"admin@demo.com",password:"123456",remember:!1}),[d,c]=s.useState({});return{formData:m,errors:d,loading:t,handleChange:e=>{const{name:s,value:a,type:r,checked:l}=e.target;n(e=>({...e,[s]:"checkbox"===r?l:a})),d[s]&&c(e=>{const a={...e};return delete a[s],a})},handleSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return m.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(e.email="Please enter a valid email"):e.email="Email is required",m.password?m.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",c(e),0===Object.keys(e).length})()){i(!0);try{const e=await r(m.email,m.password);e.success?(m.remember?localStorage.setItem("rememberAdminEmail",m.email):localStorage.removeItem("rememberAdminEmail"),setTimeout(()=>{"admin"===l?a("/dashboards/dashboard",{replace:!0}):c({submit:"You are not authorized as an admin"})},500)):c({submit:e.error||"Login failed. Please try again."})}catch(s){c({submit:s instanceof Error?s.message:"An error occurred during login"})}finally{i(!1)}}}}},u=()=>{const{formData:e,errors:s,loading:l,handleChange:t,handleSubmit:i}=j();return a.jsxs("form",{onSubmit:i,className:"authentication-form",children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"adminEmail",className:"form-label",children:["Email ",a.jsx("small",{children:"*"})]}),a.jsx("input",{type:"email",className:"form-control",id:"adminEmail",placeholder:"Email",name:"email",value:e.email,onChange:t}),s.email&&a.jsx("small",{className:"text-danger",children:s.email})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"form-label",htmlFor:"adminPassword",children:["Password ",a.jsx("small",{children:"*"})]}),a.jsx(r,{to:"/auth/forgot-pass",className:"float-end text-muted text-unline-dashed ms-1 fs-13",children:"Forgot your password?"}),a.jsx("input",{type:"password",className:"form-control",id:"adminPassword",name:"password",placeholder:"Enter your password",value:e.password,onChange:t}),s.password&&a.jsx("small",{className:"text-danger",children:s.password})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("input",{type:"checkbox",className:"form-check-input",id:"adminCheckboxSignin",name:"remember",checked:e.remember,onChange:t}),a.jsx("label",{className:"form-check-label text-muted",htmlFor:"adminCheckboxSignin",children:"Remember me"})]}),s.submit&&a.jsx("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:s.submit}),a.jsx("div",{className:"mb-0 text-center d-grid",children:a.jsx("button",{className:"btn btn-primary",type:"submit",disabled:l,children:l?"Logging In...":"Log In as Admin"})})]})},b=()=>a.jsx("div",{className:"bg-gradient2 min-vh-100 align-items-center d-flex justify-content-center pt-2 pt-sm-5 pb-4 pb-sm-5",children:a.jsx(l,{children:a.jsx(t,{className:"justify-content-center",children:a.jsxs(i,{xl:12,children:[a.jsx(m,{children:a.jsx(n,{className:"p-0",children:a.jsxs(t,{className:"g-0",children:[a.jsx(i,{md:5,className:"shadow",children:a.jsxs("div",{className:"p-xl-5 p-3",children:[a.jsx("div",{className:"mx-auto mb-5",children:a.jsx(r,{to:"/",className:"d-flex",children:a.jsx(d,{src:x,className:"align-self-center",alt:"logo-img",height:30})})}),a.jsx("h6",{className:"h5 mb-0 mt-3",children:"Admin Access"}),a.jsx("p",{className:"text-muted mt-1 mb-4",children:"Enter your credentials to access the admin panel."}),a.jsx(u,{}),a.jsx("div",{className:"py-3 text-center",children:a.jsx("span",{className:"fs-13 fw-bold",children:"OR"})}),a.jsx("div",{className:"row",children:a.jsx(i,{xs:12,className:"text-center",children:a.jsxs(r,{to:"",className:"btn btn-white w-100",children:[a.jsx(h,{icon:"lucide:github",style:{height:20,width:20},className:"icon-xs me-2"}),"Github"]})})})]})}),a.jsx(i,{md:5,className:"offset-md-1 d-none d-md-inline-block",children:a.jsx("div",{className:"position-relative mt-5 pt-5",children:a.jsx(c,{})})})]})})}),a.jsx(t,{className:"mt-3",children:a.jsx(i,{xs:12,className:"text-center",children:a.jsxs("p",{className:"text-muted",children:["Don't have an account?"," ",a.jsx(r,{to:"/auth/admin-register",className:"text-primary fw-semibold ms-1",children:"Register as Admin"})]})})})]})})})});export{b as default};
