import{j as e,n as s,o as a,B as l,L as i,r as t,R as c,f as d,h as n,P as r,e as m,G as o}from"./vendor-react-DP1fVbuu.js";import{b as h,I as x,u as j,c as b}from"../index-rw7h0ijr.js";import{E as g}from"./EditEmployeeModal-CYt4n-QT.js";import"./vendor-icons-DoxuJXhj.js";import"./vendor-firebase-Dc8JVVU0.js";const N=()=>{const{employees:t}=h(),c=t.slice(0,6).map(e=>({id:e.id,name:e.name,role:e.position,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=random&color=fff`,canCall:!0,canEmail:!0,canMessage:!0}));return e.jsx(s,{className:"team-members-card shadow-sm border-0",children:e.jsxs(a,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Team Members"}),e.jsx(l,{variant:"link",size:"sm",className:"p-0 text-primary",children:"View All"})]}),e.jsx("div",{className:"team-list",children:c.map(s=>e.jsx("div",{className:"team-member-item mb-3 pb-3 border-bottom",children:e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsxs(i,{to:`/employees/${s.id}`,className:"d-flex align-items-center text-decoration-none text-body",children:[e.jsx("img",{src:s.avatar,alt:s.name,className:"rounded-circle",style:{width:"48px",height:"48px",objectFit:"cover"}}),e.jsxs("div",{className:"flex-grow-1 ms-2",children:[e.jsx("p",{className:"mb-0 fw-semibold",children:s.name}),e.jsx("small",{className:"text-muted",children:s.role})]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[s.canCall&&e.jsx(l,{variant:"light",size:"sm",className:"p-2",children:e.jsx(x,{icon:"lucide:phone",width:16,height:16})}),s.canEmail&&e.jsx(l,{variant:"light",size:"sm",className:"p-2",children:e.jsx(x,{icon:"lucide:mail",width:16,height:16})}),s.canMessage&&e.jsx(l,{variant:"light",size:"sm",className:"p-2",children:e.jsx(x,{icon:"lucide:message-square",width:16,height:16})})]})]})},s.id))})]})})},u=()=>{const{notifications:i}=h(),[c,d]=t.useState([]);return e.jsx(s,{className:"notifications-card shadow-sm border-0",children:e.jsxs(a,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Notifications"}),e.jsx(l,{variant:"link",size:"sm",className:"p-0 text-primary",onClick:()=>{},children:"View All"})]}),e.jsx("div",{className:"notifications-list",children:i.map(s=>e.jsx("div",{className:"notification-item mb-3 pb-3 border-bottom",children:e.jsxs("div",{className:"d-flex gap-3",children:[e.jsx("img",{src:"https://ui-avatars.com/api/?name=Admin&background=random&color=fff",alt:"Notification",className:"rounded-circle flex-shrink-0",style:{width:"40px",height:"40px",objectFit:"cover"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Admin"})," ",s.message]}),e.jsx("small",{className:"text-muted d-block mb-2",children:s.time}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[e.jsx(x,{icon:"lucide:bell",width:16,height:16,className:"text-info"}),e.jsx("small",{className:"text-muted",children:s.type})]}),"warning"===s.type&&e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(l,{variant:"danger",size:"sm",className:"px-3",onClick:()=>{return e=s.id,void d([...c,e]);var e},disabled:c.includes(s.id),children:"Approve"}),e.jsx(l,{variant:"outline-danger",size:"sm",className:"px-3",onClick:()=>{return e=s.id,void d(c.filter(s=>s!==e));var e},children:"Decline"})]})]})]})},s.id))})]})})},p=()=>{const{meetings:i}=h();return e.jsx(s,{className:"meetings-schedule-card shadow-sm border-0",children:e.jsxs(a,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Meetings Schedule"}),e.jsxs(l,{variant:"light",size:"sm",className:"d-flex align-items-center gap-2 px-3",children:[e.jsx(x,{icon:"lucide:calendar",width:16,height:16}),e.jsx("span",{children:"Today"})]})]}),e.jsx("div",{className:"meetings-list",children:i.map(s=>e.jsxs("div",{className:"meeting-item mb-3 pb-3 border-bottom d-flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"meeting-time text-muted",children:[e.jsx("small",{className:"fw-semibold",children:s.time}),e.jsx("div",{className:"meeting-dot mt-1"})]})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("p",{className:"mb-1 fw-semibold",children:s.title}),e.jsx("small",{className:"text-muted",children:s.type})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(l,{variant:"light",size:"sm",className:"p-2",children:e.jsx(x,{icon:"lucide:settings",width:16,height:16,className:"text-danger"})})})]},s.id))})]})})},f=()=>{const i=j(),{employees:r,updateEmployee:m,canEditEmployee:o}=h(),[N,u]=t.useState(null),[p,f]=t.useState(!1);return t.useEffect(()=>{if(i.user&&r.length>0){const e=r.find(e=>e.userId===i.user?.uid);u(e||{id:i.user.uid,name:i.user.displayName||i.user.email?.split("@")[0]||"Unknown User",email:i.user.email||"",position:"Employee",department:"General",salary:0,hireDate:(new Date).toISOString().split("T")[0],status:"active",userId:i.user.uid,role:"employee",avatar:i.user.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(i.user.displayName||i.user.email||"User")}&background=random&color=fff&size=120`})}},[i.user,r]),N?e.jsxs(s,{className:"employee-profile-card shadow-sm border-0 bg-white",children:[e.jsx(a,{className:"p-4",children:e.jsxs(c,{className:"align-items-center",children:[e.jsx(d,{md:4,className:"text-center mb-3 mb-md-0",children:e.jsx("img",{src:N.avatar,alt:N.name,className:"rounded-circle border border-3 border-light shadow-sm",style:{width:"120px",height:"120px",objectFit:"cover"}})}),e.jsxs(d,{md:8,children:[e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1 fw-bold text-dark",children:N.name}),e.jsx("p",{className:"text-muted mb-2",children:N.position}),e.jsx(n,{bg:"primary",className:"mb-2",children:N.department})]}),o(N.id)&&e.jsxs(l,{onClick:()=>f(!0),variant:"outline-primary",size:"sm",className:"mt-2 mt-md-0",children:[e.jsx(x,{icon:"lucide:edit-2",width:16,height:16,className:"me-1"}),"Edit"]})]}),e.jsxs(c,{className:"g-3",children:[e.jsx(d,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(x,{icon:"lucide:phone",width:16,height:16,className:"text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Phone"}),e.jsx("span",{className:"fw-medium",children:N.phone||"Not provided"})]})]})}),e.jsx(d,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(x,{icon:"lucide:mail",width:16,height:16,className:"text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Email"}),e.jsx("span",{className:"fw-medium",children:N.email})]})]})}),e.jsx(d,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(x,{icon:"lucide:user-check",width:16,height:16,className:"text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Reports to"}),e.jsx("span",{className:"fw-medium",children:"Manager"})]})]})}),e.jsx(d,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(x,{icon:"lucide:calendar",width:16,height:16,className:"text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Joined"}),e.jsx("span",{className:"fw-medium",children:N.hireDate})]})]})})]})]})]})}),e.jsx(g,{show:p,onHide:()=>f(!1),employee:N,onSave:async(e,s,a,l)=>{try{let i;if(a){const s=await b(e,a,l);s.success&&(i=s.data)}const t={...s};i&&(t.avatar=i),await m(e,t)}catch(i){throw i}}})]}):e.jsx(s,{className:"employee-profile-card shadow-sm border-0 bg-white",children:e.jsx(a,{className:"p-4 text-center",children:e.jsx("p",{children:"Loading employee profile..."})})})},v=({data:s})=>{const a=t.useRef(null);return t.useEffect(()=>{if(!a.current)return;const e=a.current.getContext("2d");if(!e)return;const l=a.current.clientWidth,i=a.current.clientHeight;a.current.width=l,a.current.height=i;const t=l/2,c=i/2,d=Math.min(l,i)/2-20,n=["#0f5b4c","#ff6b42","#ffb82e","#e85d44","#7fb069"],r=[s.onTime,s.lateAttendance,s.workFromHome,s.absent,s.sickLeave],m=r.reduce((e,s)=>e+s,0);let o=-Math.PI/2;r.forEach((s,a)=>{const l=s/m*2*Math.PI;e.beginPath(),e.arc(t,c,d,o,o+l),e.lineTo(t,c),e.fillStyle=n[a],e.fill(),o+=l}),e.beginPath(),e.arc(t,c,.6*d,0,2*Math.PI),e.fillStyle="#fff",e.fill()},[s]),e.jsx("canvas",{ref:a,style:{width:"100%",height:"200px"}})},w=()=>{const i={onTime:1254,lateAttendance:32,workFromHome:658,absent:14,sickLeave:68},t=[{label:"On time",value:i.onTime,color:"#0f5b4c"},{label:"Late Attendance",value:i.lateAttendance,color:"#ff6b42"},{label:"Work From Home",value:i.workFromHome,color:"#ffb82e"},{label:"Absent",value:i.absent,color:"#e85d44"},{label:"Sick Leave",value:i.sickLeave,color:"#7fb069"}];return e.jsx(s,{className:"leave-details-card shadow-sm border-0",children:e.jsxs(a,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Leave Details"}),e.jsx(l,{variant:"light",size:"sm",className:"p-2",children:e.jsx(x,{icon:"lucide:calendar",width:16,height:16})})]}),e.jsx("div",{className:"chart-container mb-4",style:{height:"200px"},children:e.jsx(v,{data:i})}),e.jsx("div",{className:"legend",children:t.map((s,a)=>e.jsxs("div",{className:"legend-item mb-2 d-flex align-items-center gap-2",children:[e.jsx("span",{className:"legend-color",style:{width:"10px",height:"10px",borderRadius:"2px",backgroundColor:s.color}}),e.jsxs("span",{className:"legend-label text-muted small",children:[e.jsx("strong",{children:"â—"})," ",s.value," ",s.label]})]},a))}),e.jsx("p",{className:"text-muted small mt-3 mb-0",children:"Better than 85% of Employees"})]})})},y=()=>{const i=16,t=10,n=2,r=0,m=240,o=2;return e.jsx(s,{className:"leave-details-right-card shadow-sm border-0",children:e.jsxs(a,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Leave Details"}),e.jsx(l,{variant:"light",size:"sm",className:"p-2",children:e.jsx(x,{icon:"lucide:settings",width:16,height:16})})]}),e.jsxs(c,{className:"g-3 mb-4",children:[e.jsx(d,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Total Leaves"}),e.jsx("h5",{className:"mb-0 fw-bold",children:i})]})}),e.jsx(d,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Taken"}),e.jsx("h5",{className:"mb-0 fw-bold",children:t})]})})]}),e.jsxs(c,{className:"g-3 mb-4",children:[e.jsx(d,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Absent"}),e.jsx("h5",{className:"mb-0 fw-bold",children:n})]})}),e.jsx(d,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Request"}),e.jsx("h5",{className:"mb-0 fw-bold",children:r})]})})]}),e.jsxs(c,{className:"g-3 mb-4",children:[e.jsx(d,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Worked Days"}),e.jsx("h5",{className:"mb-0 fw-bold",children:m})]})}),e.jsx(d,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Loss of Pay"}),e.jsx("h5",{className:"mb-0 fw-bold",children:o})]})})]}),e.jsx(l,{variant:"dark",className:"w-100 py-2 fw-semibold",children:"Apply New Leave"})]})})},k=()=>{const{attendance:l}=h(),i=(new Date).toLocaleDateString(),t=l.filter(e=>e.date===i).reduce((e,s)=>e+s.totalHours,0),n={time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),totalHours:t,totalHoursDisplay:t.toFixed(2),dailyTarget:9,weekProgress:70,monthProgress:76};return e.jsx(s,{className:"attendance-status-card shadow-sm border-0",children:e.jsxs(a,{className:"p-4",children:[e.jsx("h5",{className:"mb-3 fw-bold",children:"Attendance"}),e.jsx("div",{className:"attendance-header mb-4 text-center pb-3 border-bottom",children:e.jsx("h6",{className:"mb-0 fw-bold",children:n.time})}),e.jsxs("div",{className:"attendance-chart mb-4",children:[e.jsx("div",{style:{position:"relative",width:"150px",height:"150px",margin:"0 auto"},children:e.jsxs("svg",{width:"150",height:"150",style:{margin:"0 auto",display:"block"},children:[e.jsx("circle",{cx:"75",cy:"75",r:"70",fill:"none",stroke:"#e9ecef",strokeWidth:"8"}),e.jsx("circle",{cx:"75",cy:"75",r:"70",fill:"none",stroke:"#22c55e",strokeWidth:"8",strokeDasharray:n.totalHours/n.dailyTarget*440+" 440",strokeLinecap:"round",style:{transform:"rotate(-90deg)",transformOrigin:"75px 75px"}}),e.jsx("text",{x:"75",y:"70",textAnchor:"middle",fontSize:"20",fontWeight:"bold",fill:"#1f2937",children:n.totalHoursDisplay}),e.jsxs("text",{x:"75",y:"90",textAnchor:"middle",fontSize:"12",fill:"#6b7280",children:["/ ",n.dailyTarget]})]})}),e.jsx("p",{className:"text-center text-muted small mt-2",children:"Total Hours"})]}),e.jsx("div",{className:"attendance-stats",children:e.jsxs(c,{className:"g-3",children:[e.jsx(d,{xs:6,children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("small",{className:"text-muted",children:"This Week"}),e.jsxs("small",{className:"fw-semibold text-muted",children:[n.weekProgress,"%"]})]}),e.jsx(r,{now:n.weekProgress,className:"attendance-progress-bar"})]})}),e.jsx(d,{xs:6,children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("small",{className:"text-muted",children:"This Month"}),e.jsxs("small",{className:"fw-semibold text-muted",children:[n.monthProgress,"%"]})]}),e.jsx(r,{now:n.monthProgress,className:"attendance-progress-bar"})]})})]})})]})})},D=()=>{const{attendance:l}=h(),i=(new Date).toLocaleDateString(),t=new Date;t.setDate(t.getDate()-7);const n=new Date;n.setMonth(n.getMonth()-1);const r=l.filter(e=>e.date===i).reduce((e,s)=>e+s.totalHours,0),m=l.filter(e=>new Date(e.date)>=t).reduce((e,s)=>e+s.totalHours,0),o=l.filter(e=>new Date(e.date)>=n).reduce((e,s)=>e+s.totalHours,0),j=[{icon:"lucide:clock",label:"Total Hours Today",value:r.toFixed(2),target:"9",color:"danger",bgColor:"#ff5722"},{icon:"lucide:calendar",label:"Total Hours Week",value:m.toFixed(0),target:"40",color:"dark",bgColor:"#1a1a1a"},{icon:"lucide:trending-up",label:"Total Hours Month",value:o.toFixed(0),target:"160",color:"primary",bgColor:"#0066ff"},{icon:"lucide:gift",label:"Overtime this Month",value:"16",target:"28",color:"pink",bgColor:"#ff1493"}];return e.jsx(c,{className:"g-3",children:j.map((l,i)=>e.jsx(d,{lg:3,md:6,xs:12,children:e.jsx(s,{className:"hour-metric-card shadow-sm border-0",children:e.jsx(a,{className:"p-3",children:e.jsx("div",{className:"d-flex justify-content-between align-items-start",children:e.jsxs("div",{children:[e.jsx("div",{className:"d-flex align-items-center gap-2 mb-2",children:e.jsx("div",{className:"rounded p-2 d-flex align-items-center justify-content-center",style:{backgroundColor:l.bgColor,width:"40px",height:"40px"},children:e.jsx(x,{icon:l.icon,width:20,height:20,className:"text-white"})})}),e.jsx("p",{className:"text-muted small mb-2",children:l.label}),e.jsxs("h6",{className:"mb-0 fw-bold",children:[l.value," / ",l.target]})]})})})})},i))})},T=()=>e.jsx("section",{className:"position-relative overflow-hidden bg-gradient2 py-2 px-2",children:e.jsxs(m,{fluid:!0,className:"px-2 px-md-3 px-lg-4",children:[e.jsx(c,{className:"mb-3",children:e.jsx(d,{xs:12,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs(o,{className:"mb-0",children:[e.jsxs(o.Item,{href:"/dashboard",children:[e.jsx(x,{icon:"lucide:home",width:16,height:16})," Dashboard"]}),e.jsx(o.Item,{active:!0,children:"Employee Dashboard"})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(l,{variant:"light",size:"sm",className:"d-flex align-items-center gap-2",children:[e.jsx(x,{icon:"lucide:download",width:16,height:16}),"Export"]}),e.jsxs(l,{variant:"light",size:"sm",className:"d-flex align-items-center gap-2",children:[e.jsx(x,{icon:"lucide:calendar",width:16,height:16}),"2024"]}),e.jsx(l,{variant:"light",size:"sm",className:"p-2",children:e.jsx(x,{icon:"lucide:sort-ascending",width:16,height:16})})]})]})})}),e.jsx(c,{className:"mb-3",children:e.jsx(d,{xs:12,className:"mb-3",children:e.jsx(f,{})})}),e.jsxs(c,{className:"mb-3",children:[e.jsx(d,{lg:6,md:12,xs:12,className:"mb-3",children:e.jsx(w,{})}),e.jsx(d,{lg:6,md:12,xs:12,className:"mb-3",children:e.jsx(y,{})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(d,{lg:4,md:12,xs:12,className:"mb-3",children:e.jsx(k,{})}),e.jsx(d,{lg:8,md:12,xs:12,children:e.jsx(D,{})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(d,{lg:4,md:12,xs:12,className:"mb-3",children:e.jsx(N,{})}),e.jsx(d,{lg:4,md:12,xs:12,className:"mb-3",children:e.jsx(u,{})}),e.jsx(d,{lg:4,md:12,xs:12,className:"mb-3",children:e.jsx(p,{})})]})]})});export{T as default};
