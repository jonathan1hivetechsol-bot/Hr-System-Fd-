import{r as e,j as s,S as a,I as i,B as l,e as n,R as t,f as r}from"./vendor-react-DP1fVbuu.js";import{M as d,E as c,a as m,A as o,C as x}from"./ClockInOut-BZ0vrp-d.js";import{b as h,c as j}from"../index-DYVo_VQy.js";import{E as p}from"./EditEmployeeModal-CYt4n-QT.js";import"./vendor-icons-DoxuJXhj.js";import"./vendor-firebase-Dc8JVVU0.js";const g=()=>{const{employees:n,updateEmployee:t,deleteEmployee:r,canEditEmployee:d,canDeleteEmployee:c}=h(),[m,o]=e.useState(null),[x,g]=e.useState(!1);return s.jsxs("div",{className:"mt-4",children:[s.jsx("h5",{className:"mb-3",children:"All Employees"}),s.jsxs(a,{responsive:!0,hover:!0,className:"bg-white",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"#"}),s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:"Department"}),s.jsx("th",{children:"Position"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:n.map((e,a)=>s.jsxs("tr",{children:[s.jsx("td",{children:a+1}),s.jsxs("td",{className:"d-flex align-items-center gap-2",children:[s.jsx(i,{src:e.avatar,roundedCircle:!0,height:36,width:36}),s.jsx("div",{children:e.name})]}),s.jsx("td",{children:e.email}),s.jsx("td",{children:e.department}),s.jsx("td",{children:e.position}),s.jsxs("td",{children:[d(e.id)?s.jsx(l,{size:"sm",variant:"outline-primary",className:"me-2",onClick:()=>(e=>{o(e),g(!0)})(e),children:"View / Edit"}):s.jsx(l,{size:"sm",variant:"light",className:"me-2",disabled:!0,children:"View"}),c()&&s.jsx(l,{size:"sm",variant:"outline-danger",onClick:async()=>{confirm("Delete employee?")&&await r(e.id)},children:"Delete"})]})]},e.id))})]}),m&&s.jsx(p,{show:x,onHide:()=>g(!1),employee:m,onSave:async(e,s,a,i)=>{try{let l;if(a){const s=await j(e,a,e=>{i&&i(e)});s.success&&(l=s.data)}const n={...s};l&&(n.avatar=l),await t(e,n)}catch(l){throw l}}})]})},v=()=>s.jsx("section",{className:"position-relative overflow-hidden bg-gradient2 py-2 px-2",children:s.jsxs(n,{fluid:!0,className:"px-2 px-md-3 px-lg-4",children:[s.jsx(t,{className:"mb-3",children:s.jsx(r,{lg:3,md:6,sm:6,xs:12,className:"mb-3",children:s.jsx(d,{icon:"lucide:clock",title:"Attendance",value:"92/99",percentage:2.1,percentageType:"positive",bgVariant:"danger",iconVariant:"danger"})})}),s.jsxs(t,{className:"mb-3",children:[s.jsx(r,{lg:8,md:12,xs:12,className:"mb-3",children:s.jsx(c,{})}),s.jsx(r,{lg:4,md:12,xs:12,className:"mb-3",children:s.jsx(m,{})})]}),s.jsxs(t,{children:[s.jsx(r,{lg:6,md:12,xs:12,className:"mb-3",children:s.jsx(o,{})}),s.jsx(r,{lg:6,md:12,xs:12,children:s.jsx(x,{})})]}),s.jsx(t,{children:s.jsx(r,{xs:12,children:s.jsx(g,{})})})]})});export{v as default};
