import{r as N,o as A,j as e,p as C,A as H,q as w,B as h,L as T,I as m,h as M,R as u,a as r,t as z,v as S,C as P}from"./index-D9JI0ZRz.js";import{C as b,a as g}from"./Card-Cq87GflN.js";import{E as I}from"./EditEmployeeModal-GcfUiVSP.js";import{P as D}from"./ProgressBar-ms1zuNX4.js";import"./Modal-D2NXuMqQ.js";import"./NoopTransition-C0hh1PQG.js";import"./Image-Dry8f3xv.js";const E=N.forwardRef(({bsPrefix:s,active:l=!1,children:a,className:d,as:c="li",linkAs:n=H,linkProps:t={},href:x,title:i,target:o,...f},p)=>{const j=A(s,"breadcrumb-item");return e.jsx(c,{ref:p,...f,className:C(j,d,{active:l}),"aria-current":l?"page":void 0,children:l?a:e.jsx(n,{...t,href:x,title:i,target:o,children:a})})});E.displayName="BreadcrumbItem";const L=N.forwardRef(({bsPrefix:s,className:l,listProps:a={},children:d,label:c="breadcrumb",as:n="nav",...t},x)=>{const i=A(s,"breadcrumb");return e.jsx(n,{"aria-label":c,className:l,ref:x,...t,children:e.jsx("ol",{...a,className:C(i,a?.className),children:d})})});L.displayName="Breadcrumb";const k=Object.assign(L,{Item:E}),R=()=>{const{employees:s}=w(),l=s.slice(0,6).map(a=>({id:a.id,name:a.name,role:a.position,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.name)}&background=random&color=fff`,canCall:!0,canEmail:!0,canMessage:!0}));return e.jsx(b,{className:"team-members-card shadow-sm border-0",children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Team Members"}),e.jsx(h,{variant:"link",size:"sm",className:"p-0 text-primary",children:"View All"})]}),e.jsx("div",{className:"team-list",children:l.map(a=>e.jsx("div",{className:"team-member-item mb-3 pb-3 border-bottom",children:e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsxs(T,{to:`/employees/${a.id}`,className:"d-flex align-items-center text-decoration-none text-body",children:[e.jsx("img",{src:a.avatar,alt:a.name,className:"rounded-circle",style:{width:"48px",height:"48px",objectFit:"cover"}}),e.jsxs("div",{className:"flex-grow-1 ms-2",children:[e.jsx("p",{className:"mb-0 fw-semibold",children:a.name}),e.jsx("small",{className:"text-muted",children:a.role})]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[a.canCall&&e.jsx(h,{variant:"light",size:"sm",className:"p-2",children:e.jsx(m,{icon:"lucide:phone",width:16,height:16})}),a.canEmail&&e.jsx(h,{variant:"light",size:"sm",className:"p-2",children:e.jsx(m,{icon:"lucide:mail",width:16,height:16})}),a.canMessage&&e.jsx(h,{variant:"light",size:"sm",className:"p-2",children:e.jsx(m,{icon:"lucide:message-square",width:16,height:16})})]})]})},a.id))})]})})},B=()=>{const{notifications:s}=w(),[l,a]=N.useState([]),d=t=>{a([...l,t]),console.log("Notification approved:",t)},c=t=>{a(l.filter(x=>x!==t)),console.log("Notification declined:",t)},n=()=>{console.log("View all notifications clicked")};return e.jsx(b,{className:"notifications-card shadow-sm border-0",children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Notifications"}),e.jsx(h,{variant:"link",size:"sm",className:"p-0 text-primary",onClick:n,children:"View All"})]}),e.jsx("div",{className:"notifications-list",children:s.map(t=>e.jsx("div",{className:"notification-item mb-3 pb-3 border-bottom",children:e.jsxs("div",{className:"d-flex gap-3",children:[e.jsx("img",{src:"https://ui-avatars.com/api/?name=Admin&background=random&color=fff",alt:"Notification",className:"rounded-circle flex-shrink-0",style:{width:"40px",height:"40px",objectFit:"cover"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Admin"})," ",t.message]}),e.jsx("small",{className:"text-muted d-block mb-2",children:t.time}),e.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[e.jsx(m,{icon:"lucide:bell",width:16,height:16,className:"text-info"}),e.jsx("small",{className:"text-muted",children:t.type})]}),t.type==="warning"&&e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(h,{variant:"danger",size:"sm",className:"px-3",onClick:()=>d(t.id),disabled:l.includes(t.id),children:"Approve"}),e.jsx(h,{variant:"outline-danger",size:"sm",className:"px-3",onClick:()=>c(t.id),children:"Decline"})]})]})]})},t.id))})]})})},F=()=>{const{meetings:s}=w();return e.jsx(b,{className:"meetings-schedule-card shadow-sm border-0",children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Meetings Schedule"}),e.jsxs(h,{variant:"light",size:"sm",className:"d-flex align-items-center gap-2 px-3",children:[e.jsx(m,{icon:"lucide:calendar",width:16,height:16}),e.jsx("span",{children:"Today"})]})]}),e.jsx("div",{className:"meetings-list",children:s.map(l=>e.jsxs("div",{className:"meeting-item mb-3 pb-3 border-bottom d-flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"meeting-time text-muted",children:[e.jsx("small",{className:"fw-semibold",children:l.time}),e.jsx("div",{className:"meeting-dot mt-1"})]})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("p",{className:"mb-1 fw-semibold",children:l.title}),e.jsx("small",{className:"text-muted",children:l.type})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(h,{variant:"light",size:"sm",className:"p-2",children:e.jsx(m,{icon:"lucide:settings",width:16,height:16,className:"text-danger"})})})]},l.id))})]})})},W=()=>{const s=M(),{employees:l,updateEmployee:a,canEditEmployee:d}=w(),[c,n]=N.useState(null),[t,x]=N.useState(!1);return N.useEffect(()=>{if(s.user&&l.length>0){const i=l.find(o=>o.userId===s.user?.uid);n(i||{id:s.user.uid,name:s.user.displayName||s.user.email?.split("@")[0]||"Unknown User",email:s.user.email||"",position:"Employee",department:"General",salary:0,hireDate:new Date().toISOString().split("T")[0],status:"active",userId:s.user.uid,role:"employee",avatar:s.user.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.user.displayName||s.user.email||"User")}&background=random&color=fff&size=120`})}},[s.user,l]),c?e.jsxs(b,{className:"employee-profile-card shadow-sm border-0 bg-white",children:[e.jsx(g,{className:"p-4",children:e.jsxs(u,{className:"align-items-center",children:[e.jsx(r,{md:4,className:"text-center mb-3 mb-md-0",children:e.jsx("img",{src:c.avatar,alt:c.name,className:"rounded-circle border border-3 border-light shadow-sm",style:{width:"120px",height:"120px",objectFit:"cover"}})}),e.jsxs(r,{md:8,children:[e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1 fw-bold text-dark",children:c.name}),e.jsx("p",{className:"text-muted mb-2",children:c.position}),e.jsx(z,{bg:"primary",className:"mb-2",children:c.department})]}),d(c.id)&&e.jsxs(h,{onClick:()=>x(!0),variant:"outline-primary",size:"sm",className:"mt-2 mt-md-0",children:[e.jsx(m,{icon:"lucide:edit-2",width:16,height:16,className:"me-1"}),"Edit"]})]}),e.jsxs(u,{className:"g-3",children:[e.jsx(r,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(m,{icon:"lucide:phone",width:16,height:16,className:"text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Phone"}),e.jsx("span",{className:"fw-medium",children:c.phone||"Not provided"})]})]})}),e.jsx(r,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(m,{icon:"lucide:mail",width:16,height:16,className:"text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Email"}),e.jsx("span",{className:"fw-medium",children:c.email})]})]})}),e.jsx(r,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(m,{icon:"lucide:user-check",width:16,height:16,className:"text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Reports to"}),e.jsx("span",{className:"fw-medium",children:"Manager"})]})]})}),e.jsx(r,{sm:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(m,{icon:"lucide:calendar",width:16,height:16,className:"text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Joined"}),e.jsx("span",{className:"fw-medium",children:c.hireDate})]})]})})]})]})]})}),e.jsx(I,{show:t,onHide:()=>x(!1),employee:c,onSave:async(i,o,f,p)=>{try{let j;if(f){const y=await S(i,f,p);y.success&&(j=y.data)}const v={...o};j&&(v.avatar=j),await a(i,v)}catch(j){throw console.error("Failed to save employee:",j),j}}})]}):e.jsx(b,{className:"employee-profile-card shadow-sm border-0 bg-white",children:e.jsx(g,{className:"p-4 text-center",children:e.jsx("p",{children:"Loading employee profile..."})})})},O=({data:s})=>{const l=N.useRef(null);return N.useEffect(()=>{if(!l.current)return;const a=l.current.getContext("2d");if(!a)return;const d=l.current.clientWidth,c=l.current.clientHeight;l.current.width=d,l.current.height=c;const n=d/2,t=c/2,x=Math.min(d,c)/2-20,i=["#0f5b4c","#ff6b42","#ffb82e","#e85d44","#7fb069"],o=[s.onTime,s.lateAttendance,s.workFromHome,s.absent,s.sickLeave],f=o.reduce((j,v)=>j+v,0);let p=-Math.PI/2;o.forEach((j,v)=>{const y=j/f*2*Math.PI;a.beginPath(),a.arc(n,t,x,p,p+y),a.lineTo(n,t),a.fillStyle=i[v],a.fill(),p+=y}),a.beginPath(),a.arc(n,t,x*.6,0,2*Math.PI),a.fillStyle="#fff",a.fill()},[s]),e.jsx("canvas",{ref:l,style:{width:"100%",height:"200px"}})},U=()=>{const s={onTime:1254,lateAttendance:32,workFromHome:658,absent:14,sickLeave:68},l=[{label:"On time",value:s.onTime,color:"#0f5b4c"},{label:"Late Attendance",value:s.lateAttendance,color:"#ff6b42"},{label:"Work From Home",value:s.workFromHome,color:"#ffb82e"},{label:"Absent",value:s.absent,color:"#e85d44"},{label:"Sick Leave",value:s.sickLeave,color:"#7fb069"}];return e.jsx(b,{className:"leave-details-card shadow-sm border-0",children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Leave Details"}),e.jsx(h,{variant:"light",size:"sm",className:"p-2",children:e.jsx(m,{icon:"lucide:calendar",width:16,height:16})})]}),e.jsx("div",{className:"chart-container mb-4",style:{height:"200px"},children:e.jsx(O,{data:s})}),e.jsx("div",{className:"legend",children:l.map((a,d)=>e.jsxs("div",{className:"legend-item mb-2 d-flex align-items-center gap-2",children:[e.jsx("span",{className:"legend-color",style:{width:"10px",height:"10px",borderRadius:"2px",backgroundColor:a.color}}),e.jsxs("span",{className:"legend-label text-muted small",children:[e.jsx("strong",{children:"â—"})," ",a.value," ",a.label]})]},d))}),e.jsx("p",{className:"text-muted small mt-3 mb-0",children:"Better than 85% of Employees"})]})})},q=()=>{const s={totalLeaves:16,taken:10,absent:2,request:0,workedDays:240,lossOfPay:2};return e.jsx(b,{className:"leave-details-right-card shadow-sm border-0",children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:"Leave Details"}),e.jsx(h,{variant:"light",size:"sm",className:"p-2",children:e.jsx(m,{icon:"lucide:settings",width:16,height:16})})]}),e.jsxs(u,{className:"g-3 mb-4",children:[e.jsx(r,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Total Leaves"}),e.jsx("h5",{className:"mb-0 fw-bold",children:s.totalLeaves})]})}),e.jsx(r,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Taken"}),e.jsx("h5",{className:"mb-0 fw-bold",children:s.taken})]})})]}),e.jsxs(u,{className:"g-3 mb-4",children:[e.jsx(r,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Absent"}),e.jsx("h5",{className:"mb-0 fw-bold",children:s.absent})]})}),e.jsx(r,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Request"}),e.jsx("h5",{className:"mb-0 fw-bold",children:s.request})]})})]}),e.jsxs(u,{className:"g-3 mb-4",children:[e.jsx(r,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Worked Days"}),e.jsx("h5",{className:"mb-0 fw-bold",children:s.workedDays})]})}),e.jsx(r,{xs:6,children:e.jsxs("div",{className:"leave-stat",children:[e.jsx("p",{className:"mb-1 text-muted small",children:"Loss of Pay"}),e.jsx("h5",{className:"mb-0 fw-bold",children:s.lossOfPay})]})})]}),e.jsx(h,{variant:"dark",className:"w-100 py-2 fw-semibold",children:"Apply New Leave"})]})})},$=()=>{const{attendance:s}=w(),l=new Date().toLocaleDateString(),d=s.filter(t=>t.date===l).reduce((t,x)=>t+x.totalHours,0),n={time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),totalHours:d,totalHoursDisplay:d.toFixed(2),dailyTarget:9,weekProgress:70,monthProgress:76};return e.jsx(b,{className:"attendance-status-card shadow-sm border-0",children:e.jsxs(g,{className:"p-4",children:[e.jsx("h5",{className:"mb-3 fw-bold",children:"Attendance"}),e.jsx("div",{className:"attendance-header mb-4 text-center pb-3 border-bottom",children:e.jsx("h6",{className:"mb-0 fw-bold",children:n.time})}),e.jsxs("div",{className:"attendance-chart mb-4",children:[e.jsx("div",{style:{position:"relative",width:"150px",height:"150px",margin:"0 auto"},children:e.jsxs("svg",{width:"150",height:"150",style:{margin:"0 auto",display:"block"},children:[e.jsx("circle",{cx:"75",cy:"75",r:"70",fill:"none",stroke:"#e9ecef",strokeWidth:"8"}),e.jsx("circle",{cx:"75",cy:"75",r:"70",fill:"none",stroke:"#22c55e",strokeWidth:"8",strokeDasharray:`${n.totalHours/n.dailyTarget*440} 440`,strokeLinecap:"round",style:{transform:"rotate(-90deg)",transformOrigin:"75px 75px"}}),e.jsx("text",{x:"75",y:"70",textAnchor:"middle",fontSize:"20",fontWeight:"bold",fill:"#1f2937",children:n.totalHoursDisplay}),e.jsxs("text",{x:"75",y:"90",textAnchor:"middle",fontSize:"12",fill:"#6b7280",children:["/ ",n.dailyTarget]})]})}),e.jsx("p",{className:"text-center text-muted small mt-2",children:"Total Hours"})]}),e.jsx("div",{className:"attendance-stats",children:e.jsxs(u,{className:"g-3",children:[e.jsx(r,{xs:6,children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("small",{className:"text-muted",children:"This Week"}),e.jsxs("small",{className:"fw-semibold text-muted",children:[n.weekProgress,"%"]})]}),e.jsx(D,{now:n.weekProgress,className:"attendance-progress-bar"})]})}),e.jsx(r,{xs:6,children:e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("small",{className:"text-muted",children:"This Month"}),e.jsxs("small",{className:"fw-semibold text-muted",children:[n.monthProgress,"%"]})]}),e.jsx(D,{now:n.monthProgress,className:"attendance-progress-bar"})]})})]})})]})})},V=()=>{const{attendance:s}=w(),l=new Date().toLocaleDateString(),a=new Date;a.setDate(a.getDate()-7);const d=new Date;d.setMonth(d.getMonth()-1);const c=s.filter(i=>i.date===l).reduce((i,o)=>i+o.totalHours,0),n=s.filter(i=>new Date(i.date)>=a).reduce((i,o)=>i+o.totalHours,0),t=s.filter(i=>new Date(i.date)>=d).reduce((i,o)=>i+o.totalHours,0),x=[{icon:"lucide:clock",label:"Total Hours Today",value:c.toFixed(2),target:"9",color:"danger",bgColor:"#ff5722"},{icon:"lucide:calendar",label:"Total Hours Week",value:n.toFixed(0),target:"40",color:"dark",bgColor:"#1a1a1a"},{icon:"lucide:trending-up",label:"Total Hours Month",value:t.toFixed(0),target:"160",color:"primary",bgColor:"#0066ff"},{icon:"lucide:gift",label:"Overtime this Month",value:"16",target:"28",color:"pink",bgColor:"#ff1493"}];return e.jsx(u,{className:"g-3",children:x.map((i,o)=>e.jsx(r,{lg:3,md:6,xs:12,children:e.jsx(b,{className:"hour-metric-card shadow-sm border-0",children:e.jsx(g,{className:"p-3",children:e.jsx("div",{className:"d-flex justify-content-between align-items-start",children:e.jsxs("div",{children:[e.jsx("div",{className:"d-flex align-items-center gap-2 mb-2",children:e.jsx("div",{className:"rounded p-2 d-flex align-items-center justify-content-center",style:{backgroundColor:i.bgColor,width:"40px",height:"40px"},children:e.jsx(m,{icon:i.icon,width:20,height:20,className:"text-white"})})}),e.jsx("p",{className:"text-muted small mb-2",children:i.label}),e.jsxs("h6",{className:"mb-0 fw-bold",children:[i.value," / ",i.target]})]})})})})},o))})},_=()=>e.jsx("section",{className:"position-relative overflow-hidden bg-gradient2 py-2 px-2",children:e.jsxs(P,{fluid:!0,className:"px-2 px-md-3 px-lg-4",children:[e.jsx(u,{className:"mb-3",children:e.jsx(r,{xs:12,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs(k,{className:"mb-0",children:[e.jsxs(k.Item,{href:"/dashboard",children:[e.jsx(m,{icon:"lucide:home",width:16,height:16})," Dashboard"]}),e.jsx(k.Item,{active:!0,children:"Employee Dashboard"})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(h,{variant:"light",size:"sm",className:"d-flex align-items-center gap-2",children:[e.jsx(m,{icon:"lucide:download",width:16,height:16}),"Export"]}),e.jsxs(h,{variant:"light",size:"sm",className:"d-flex align-items-center gap-2",children:[e.jsx(m,{icon:"lucide:calendar",width:16,height:16}),"2024"]}),e.jsx(h,{variant:"light",size:"sm",className:"p-2",children:e.jsx(m,{icon:"lucide:sort-ascending",width:16,height:16})})]})]})})}),e.jsx(u,{className:"mb-3",children:e.jsx(r,{xs:12,className:"mb-3",children:e.jsx(W,{})})}),e.jsxs(u,{className:"mb-3",children:[e.jsx(r,{lg:6,md:12,xs:12,className:"mb-3",children:e.jsx(U,{})}),e.jsx(r,{lg:6,md:12,xs:12,className:"mb-3",children:e.jsx(q,{})})]}),e.jsxs(u,{className:"mb-3",children:[e.jsx(r,{lg:4,md:12,xs:12,className:"mb-3",children:e.jsx($,{})}),e.jsx(r,{lg:8,md:12,xs:12,children:e.jsx(V,{})})]}),e.jsxs(u,{className:"mb-3",children:[e.jsx(r,{lg:4,md:12,xs:12,className:"mb-3",children:e.jsx(R,{})}),e.jsx(r,{lg:4,md:12,xs:12,className:"mb-3",children:e.jsx(B,{})}),e.jsx(r,{lg:4,md:12,xs:12,className:"mb-3",children:e.jsx(F,{})})]})]})});export{_ as default};
