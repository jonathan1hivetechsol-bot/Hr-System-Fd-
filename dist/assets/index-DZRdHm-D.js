import{u as b,h as w,r as h,j as s,C as v,R as x,a as o,L as u}from"./index-D9JI0ZRz.js";import{A as y}from"./AuthSwiper-D3ICh4Sg.js";import{l as C}from"./logo-BJuW9rqy.js";import{C as P,a as R}from"./Card-Cq87GflN.js";import{I as F}from"./Image-Dry8f3xv.js";const E=()=>{const i=b(),{registerAdminUser:a}=w(),[m,l]=h.useState(!1),[e,j]=h.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[N,n]=h.useState({}),p=r=>{const{name:t,value:d}=r.target;j(c=>({...c,[t]:d})),N[t]&&n(c=>{const f={...c};return delete f[t],f})},g=()=>{const r={};return e.firstName.trim()||(r.firstName="First name is required"),e.lastName.trim()||(r.lastName="Last name is required"),e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(r.email="Please enter a valid email"):r.email="Email is required",e.password?e.password.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",e.password!==e.confirmPassword&&(r.confirmPassword="Passwords do not match"),n(r),Object.keys(r).length===0};return{formData:e,errors:N,loading:m,handleChange:p,handleSubmit:async r=>{if(r.preventDefault(),!!g()){l(!0);try{const t=`${e.firstName} ${e.lastName}`,d=await a(e.email,e.password,t);d.success?setTimeout(()=>{i("/dashboards/dashboard",{replace:!0})},500):n({submit:d.error||"Registration failed. Please try again."})}catch(t){n({submit:t instanceof Error?t.message:"An error occurred during registration"})}finally{l(!1)}}}}},A=()=>{const{formData:i,errors:a,loading:m,handleChange:l,handleSubmit:e}=E();return s.jsxs("form",{onSubmit:e,className:"authentication-form",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"adminFirstName",className:"form-label",children:["First Name ",s.jsx("small",{children:"*"})]}),s.jsx("input",{type:"text",className:"form-control",id:"adminFirstName",placeholder:"First Name",name:"firstName",value:i.firstName,onChange:l}),a.firstName&&s.jsx("small",{className:"text-danger",children:a.firstName})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"adminLastName",className:"form-label",children:["Last Name ",s.jsx("small",{children:"*"})]}),s.jsx("input",{type:"text",className:"form-control",id:"adminLastName",placeholder:"Last Name",name:"lastName",value:i.lastName,onChange:l}),a.lastName&&s.jsx("small",{className:"text-danger",children:a.lastName})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"adminRegEmail",className:"form-label",children:["Email ",s.jsx("small",{children:"*"})]}),s.jsx("input",{type:"email",className:"form-control",id:"adminRegEmail",placeholder:"Email",name:"email",value:i.email,onChange:l}),a.email&&s.jsx("small",{className:"text-danger",children:a.email})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"adminRegPassword",className:"form-label",children:["Password ",s.jsx("small",{children:"*"})]}),s.jsx("input",{type:"password",className:"form-control",id:"adminRegPassword",placeholder:"Enter password",name:"password",value:i.password,onChange:l}),a.password&&s.jsx("small",{className:"text-danger",children:a.password})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"adminRegConfirmPassword",className:"form-label",children:["Confirm Password ",s.jsx("small",{children:"*"})]}),s.jsx("input",{type:"password",className:"form-control",id:"adminRegConfirmPassword",placeholder:"Confirm password",name:"confirmPassword",value:i.confirmPassword,onChange:l}),a.confirmPassword&&s.jsx("small",{className:"text-danger",children:a.confirmPassword})]}),a.submit&&s.jsx("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:a.submit}),s.jsx("div",{className:"mb-0 text-center d-grid",children:s.jsx("button",{className:"btn btn-primary",type:"submit",disabled:m,children:m?"Registering...":"Register as Admin"})})]})},$=()=>s.jsx("div",{className:"bg-gradient2 min-vh-100 align-items-center d-flex justify-content-center pt-2 pt-sm-5 pb-4 pb-sm-5",children:s.jsx(v,{children:s.jsx(x,{className:"justify-content-center",children:s.jsxs(o,{xl:12,children:[s.jsx(P,{children:s.jsx(R,{className:"p-0",children:s.jsxs(x,{className:"g-0",children:[s.jsx(o,{md:5,className:"shadow",children:s.jsxs("div",{className:"p-xl-5 p-3",children:[s.jsx("div",{className:"mx-auto mb-5",children:s.jsx(u,{to:"/",className:"d-flex",children:s.jsx(F,{src:C,className:"align-self-center",alt:"logo-img",height:30})})}),s.jsx("h6",{className:"h5 mb-0 mt-3",children:"Register as Admin"}),s.jsx("p",{className:"text-muted mt-1 mb-4",children:"Create your admin account to manage the system."}),s.jsx(A,{})]})}),s.jsx(o,{md:5,className:"offset-md-1 d-none d-md-inline-block",children:s.jsx("div",{className:"position-relative mt-5 pt-5",children:s.jsx(y,{})})})]})})}),s.jsx(x,{className:"mt-3",children:s.jsx(o,{xs:12,className:"text-center",children:s.jsxs("p",{className:"text-muted",children:["Already have an account?"," ",s.jsx(u,{to:"/auth/admin-login",className:"text-primary fw-semibold ms-1",children:"Sign In"})]})})})]})})})});export{$ as default};
