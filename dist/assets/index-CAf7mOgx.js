import{u as w,h as v,r as h,j as e,L as c,C as E,R as x,a as i,I as C}from"./index-DVszvYIw.js";import{A as S}from"./AuthSwiper-e7gjWI-N.js";import{l as k}from"./logo-BJuW9rqy.js";import{C as I,a as F}from"./Card-DMtR7sEa.js";import{I as L}from"./Image-rbr3L9E7.js";const P=()=>{const m=w(),l=v(),[n,t]=h.useState(!1),[s,b]=h.useState({email:"user@demo.com",password:"123456",remember:!1}),[p,o]=h.useState({}),j=a=>{const{name:r,value:f,type:N,checked:y}=a.target;b(d=>({...d,[r]:N==="checkbox"?y:f})),p[r]&&o(d=>{const u={...d};return delete u[r],u})},g=()=>{const a={};return s.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(a.email="Please enter a valid email"):a.email="Email is required",s.password?s.password.length<6&&(a.password="Password must be at least 6 characters"):a.password="Password is required",o(a),Object.keys(a).length===0};return{formData:s,errors:p,loading:n,handleChange:j,handleSubmit:async a=>{if(a.preventDefault(),!!g()){t(!0);try{const r=await l.signIn(s.email,s.password);r.success?(s.remember?localStorage.setItem("rememberEmployeeEmail",s.email):localStorage.removeItem("rememberEmployeeEmail"),setTimeout(()=>{m("/dashboards/dashboard",{replace:!0})},500)):o({submit:r.error||"Login failed. Please try again."})}catch(r){o({submit:r instanceof Error?r.message:"An error occurred during login"})}finally{t(!1)}}}}},D=()=>{const{formData:m,errors:l,loading:n,handleChange:t,handleSubmit:s}=P();return e.jsxs("form",{onSubmit:s,className:"authentication-form",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"employeeEmail",className:"form-label",children:["Email ",e.jsx("small",{children:"*"})]}),e.jsx("input",{type:"email",className:"form-control",id:"employeeEmail",placeholder:"Email",name:"email",value:m.email,onChange:t}),l.email&&e.jsx("small",{className:"text-danger",children:l.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label",htmlFor:"employeePassword",children:["Password ",e.jsx("small",{children:"*"})]}),e.jsx(c,{to:"/auth/forgot-pass",className:"float-end text-muted text-unline-dashed ms-1 fs-13",children:"Forgot your password?"}),e.jsx("input",{type:"password",className:"form-control",id:"employeePassword",name:"password",placeholder:"Enter your password",value:m.password,onChange:t}),l.password&&e.jsx("small",{className:"text-danger",children:l.password})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"employeeCheckboxSignin",name:"remember",checked:m.remember,onChange:t}),e.jsx("label",{className:"form-check-label text-muted",htmlFor:"employeeCheckboxSignin",children:"Remember me"})]}),l.submit&&e.jsx("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:l.submit}),e.jsx("div",{className:"mb-0 text-center d-grid",children:e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:n,children:n?"Logging In...":"Log In"})})]})},T=()=>e.jsx("div",{className:"bg-gradient2 min-vh-100 align-items-center d-flex justify-content-center pt-2 pt-sm-5 pb-4 pb-sm-5",children:e.jsx(E,{children:e.jsx(x,{className:"justify-content-center",children:e.jsxs(i,{xl:12,children:[e.jsx(I,{children:e.jsx(F,{className:"p-0",children:e.jsxs(x,{className:"g-0",children:[e.jsx(i,{md:5,className:"shadow",children:e.jsxs("div",{className:"p-xl-5 p-3",children:[e.jsx("div",{className:"mx-auto mb-5",children:e.jsx(c,{to:"/",className:"d-flex",children:e.jsx(L,{src:k,className:"align-self-center",alt:"logo-img",height:30})})}),e.jsx("h6",{className:"h5 mb-0 mt-3",children:"Welcome back!"}),e.jsx("p",{className:"text-muted mt-1 mb-4",children:"Enter your email address and password to access your dashboard."}),e.jsx(D,{}),e.jsx("div",{className:"py-3 text-center",children:e.jsx("span",{className:"fs-13 fw-bold",children:"OR"})}),e.jsx("div",{className:"row",children:e.jsx(i,{xs:12,className:"text-center",children:e.jsxs(c,{to:"",className:"btn btn-white w-100",children:[e.jsx(C,{icon:"lucide:github",style:{height:20,width:20},className:"icon-xs me-2"}),"Github"]})})})]})}),e.jsx(i,{md:5,className:"offset-md-1 d-none d-md-inline-block",children:e.jsx("div",{className:"position-relative mt-5 pt-5",children:e.jsx(S,{})})})]})})}),e.jsx(x,{className:"mt-3",children:e.jsx(i,{xs:12,className:"text-center",children:e.jsxs("p",{className:"text-muted",children:["Don't have an account?"," ",e.jsx(c,{to:"/auth/employee-register",className:"text-primary fw-semibold ms-1",children:"Sign Up"})]})})})]})})})});export{T as default};
