import{q as b,r as h,j as e,B as r,v as w,C,R as i,a as t}from"./index-DVszvYIw.js";import{M as D,E as A,a as S,A as k,C as V}from"./ClockInOut-Dvb32elx.js";import{E as z}from"./EditEmployeeModal-Bj3KRuqs.js";import{T as B}from"./Table-DJ91pEOz.js";import{I}from"./Image-rbr3L9E7.js";import"./Card-DMtR7sEa.js";import"./Modal-FGgawfx3.js";import"./NoopTransition-DFFTjUUA.js";import"./ProgressBar-D3zB7v6y.js";const M=()=>{const{employees:j,updateEmployee:p,deleteEmployee:u,canEditEmployee:y,canDeleteEmployee:v}=b(),[n,E]=h.useState(null),[g,d]=h.useState(!1),f=s=>{E(s),d(!0)};return e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"mb-3",children:"All Employees"}),e.jsxs(B,{responsive:!0,hover:!0,className:"bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Department"}),e.jsx("th",{children:"Position"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:j.map((s,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:l+1}),e.jsxs("td",{className:"d-flex align-items-center gap-2",children:[e.jsx(I,{src:s.avatar,roundedCircle:!0,height:36,width:36}),e.jsx("div",{children:s.name})]}),e.jsx("td",{children:s.email}),e.jsx("td",{children:s.department}),e.jsx("td",{children:s.position}),e.jsxs("td",{children:[y(s.id)?e.jsx(r,{size:"sm",variant:"outline-primary",className:"me-2",onClick:()=>f(s),children:"View / Edit"}):e.jsx(r,{size:"sm",variant:"light",className:"me-2",disabled:!0,children:"View"}),v()&&e.jsx(r,{size:"sm",variant:"outline-danger",onClick:async()=>{confirm("Delete employee?")&&await u(s.id)},children:"Delete"})]})]},s.id))})]}),n&&e.jsx(z,{show:g,onHide:()=>d(!1),employee:n,onSave:async(s,l,c,o)=>{try{let a;if(c){const x=await w(s,c,N=>{o&&o(N)});x.success&&(a=x.data)}const m={...l};a&&(m.avatar=a),await p(s,m)}catch(a){throw console.error(a),a}}})]})},J=()=>e.jsx("section",{className:"position-relative overflow-hidden bg-gradient2 py-2 px-2",children:e.jsxs(C,{fluid:!0,className:"px-2 px-md-3 px-lg-4",children:[e.jsx(i,{className:"mb-3",children:e.jsx(t,{lg:3,md:6,sm:6,xs:12,className:"mb-3",children:e.jsx(D,{icon:"lucide:clock",title:"Attendance",value:"92/99",percentage:2.1,percentageType:"positive",bgVariant:"danger",iconVariant:"danger"})})}),e.jsxs(i,{className:"mb-3",children:[e.jsx(t,{lg:8,md:12,xs:12,className:"mb-3",children:e.jsx(A,{})}),e.jsx(t,{lg:4,md:12,xs:12,className:"mb-3",children:e.jsx(S,{})})]}),e.jsxs(i,{children:[e.jsx(t,{lg:6,md:12,xs:12,className:"mb-3",children:e.jsx(k,{})}),e.jsx(t,{lg:6,md:12,xs:12,children:e.jsx(V,{})})]}),e.jsx(i,{children:e.jsx(t,{xs:12,children:e.jsx(M,{})})})]})});export{J as default};
