import{u as y,h as E,r as x,j as e,L as d,C,R as u,a as m,I as S}from"./index-BAqrUfjL.js";import{A}from"./AuthSwiper-C7BYRHt0.js";import{l as k}from"./logo-BJuW9rqy.js";import{C as I,a as F}from"./Card-D6ASv6E0.js";import{I as L}from"./Image-0JLNqou7.js";const P=()=>{const l=y(),{signIn:t,userRole:o}=E(),[i,c]=x.useState(!1),[a,j]=x.useState({email:"admin@demo.com",password:"123456",remember:!1}),[b,n]=x.useState({}),g=s=>{const{name:r,value:N,type:w,checked:v}=s.target;j(h=>({...h,[r]:w==="checkbox"?v:N})),b[r]&&n(h=>{const p={...h};return delete p[r],p})},f=()=>{const s={};return a.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(s.email="Please enter a valid email"):s.email="Email is required",a.password?a.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",n(s),Object.keys(s).length===0};return{formData:a,errors:b,loading:i,handleChange:g,handleSubmit:async s=>{if(s.preventDefault(),!!f()){c(!0);try{const r=await t(a.email,a.password);r.success?(a.remember?localStorage.setItem("rememberAdminEmail",a.email):localStorage.removeItem("rememberAdminEmail"),setTimeout(()=>{o==="admin"?l("/dashboards/dashboard",{replace:!0}):n({submit:"You are not authorized as an admin"})},500)):n({submit:r.error||"Login failed. Please try again."})}catch(r){n({submit:r instanceof Error?r.message:"An error occurred during login"})}finally{c(!1)}}}}},R=()=>{const{formData:l,errors:t,loading:o,handleChange:i,handleSubmit:c}=P();return e.jsxs("form",{onSubmit:c,className:"authentication-form",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"adminEmail",className:"form-label",children:["Email ",e.jsx("small",{children:"*"})]}),e.jsx("input",{type:"email",className:"form-control",id:"adminEmail",placeholder:"Email",name:"email",value:l.email,onChange:i}),t.email&&e.jsx("small",{className:"text-danger",children:t.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label",htmlFor:"adminPassword",children:["Password ",e.jsx("small",{children:"*"})]}),e.jsx(d,{to:"/auth/forgot-pass",className:"float-end text-muted text-unline-dashed ms-1 fs-13",children:"Forgot your password?"}),e.jsx("input",{type:"password",className:"form-control",id:"adminPassword",name:"password",placeholder:"Enter your password",value:l.password,onChange:i}),t.password&&e.jsx("small",{className:"text-danger",children:t.password})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"adminCheckboxSignin",name:"remember",checked:l.remember,onChange:i}),e.jsx("label",{className:"form-check-label text-muted",htmlFor:"adminCheckboxSignin",children:"Remember me"})]}),t.submit&&e.jsx("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:t.submit}),e.jsx("div",{className:"mb-0 text-center d-grid",children:e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:o,children:o?"Logging In...":"Log In as Admin"})})]})},T=()=>e.jsx("div",{className:"bg-gradient2 min-vh-100 align-items-center d-flex justify-content-center pt-2 pt-sm-5 pb-4 pb-sm-5",children:e.jsx(C,{children:e.jsx(u,{className:"justify-content-center",children:e.jsxs(m,{xl:12,children:[e.jsx(I,{children:e.jsx(F,{className:"p-0",children:e.jsxs(u,{className:"g-0",children:[e.jsx(m,{md:5,className:"shadow",children:e.jsxs("div",{className:"p-xl-5 p-3",children:[e.jsx("div",{className:"mx-auto mb-5",children:e.jsx(d,{to:"/",className:"d-flex",children:e.jsx(L,{src:k,className:"align-self-center",alt:"logo-img",height:30})})}),e.jsx("h6",{className:"h5 mb-0 mt-3",children:"Admin Access"}),e.jsx("p",{className:"text-muted mt-1 mb-4",children:"Enter your credentials to access the admin panel."}),e.jsx(R,{}),e.jsx("div",{className:"py-3 text-center",children:e.jsx("span",{className:"fs-13 fw-bold",children:"OR"})}),e.jsx("div",{className:"row",children:e.jsx(m,{xs:12,className:"text-center",children:e.jsxs(d,{to:"",className:"btn btn-white w-100",children:[e.jsx(S,{icon:"lucide:github",style:{height:20,width:20},className:"icon-xs me-2"}),"Github"]})})})]})}),e.jsx(m,{md:5,className:"offset-md-1 d-none d-md-inline-block",children:e.jsx("div",{className:"position-relative mt-5 pt-5",children:e.jsx(A,{})})})]})})}),e.jsx(u,{className:"mt-3",children:e.jsx(m,{xs:12,className:"text-center",children:e.jsxs("p",{className:"text-muted",children:["Don't have an account?"," ",e.jsx(d,{to:"/auth/admin-register",className:"text-primary fw-semibold ms-1",children:"Register as Admin"})]})})})]})})})});export{T as default};
