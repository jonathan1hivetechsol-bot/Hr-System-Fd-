import{r as l,j as e,B as m,C as g,R as x,a as i}from"./index-oF94shAn.js";import{C as t}from"./Card-BhaUZ5Ll.js";import{T as N}from"./Table-FLAXzD0V.js";const S=()=>{const[r,a]=l.useState(!1),[s,j]=l.useState(null),p=()=>{const c=new Date().toLocaleTimeString();j(c),a(!0);const n=JSON.parse(localStorage.getItem("attendance")||"[]"),d={id:Date.now(),employeeId:1,employeeName:"John Doe",date:new Date().toISOString().split("T")[0],checkIn:c,checkOut:null,status:"present"};n.push(d),localStorage.setItem("attendance",JSON.stringify(n))},u=()=>{const c=new Date().toLocaleTimeString();a(!1);const n=JSON.parse(localStorage.getItem("attendance")||"[]"),d=new Date().toISOString().split("T")[0],o=n.find(h=>h.date===d&&h.employeeId===1);o&&(o.checkOut=c),localStorage.setItem("attendance",JSON.stringify(n))};return e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsx("h5",{className:"mb-0",children:"Clock In/Out"})}),e.jsxs(t.Body,{className:"text-center",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{children:new Date().toLocaleTimeString()}),e.jsx("p",{className:"text-muted",children:new Date().toLocaleDateString()})]}),r?e.jsxs("div",{children:[e.jsxs("p",{children:["Checked in at: ",s]}),e.jsx(m,{variant:"danger",onClick:u,children:"Check Out"})]}):e.jsx(m,{variant:"success",onClick:p,children:"Check In"})]})]})},k=()=>{const[r,a]=l.useState([]);return l.useEffect(()=>{const s=localStorage.getItem("attendance");s&&a(JSON.parse(s))},[]),e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsx("h6",{className:"mb-0",children:"Attendance Records"})}),e.jsx(t.Body,{className:"p-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs(N,{striped:!0,hover:!0,className:"mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Employee"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Check In"}),e.jsx("th",{children:"Check Out"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:r.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.employeeName}),e.jsx("td",{children:s.date}),e.jsx("td",{children:s.checkIn}),e.jsx("td",{children:s.checkOut||"-"}),e.jsx("td",{children:e.jsx("span",{className:`badge bg-${s.status==="present"?"success":s.status==="late"?"warning":"danger"}`,children:s.status})})]},s.id))})]})})})]})},b=()=>e.jsx("section",{className:"position-relative overflow-hidden bg-gradient2 py-2 px-2",children:e.jsxs(g,{fluid:!0,className:"px-2 px-md-3 px-lg-4",children:[e.jsx(x,{className:"mb-3",children:e.jsx(i,{xs:12,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"mb-0 text-primary fs-5 fs-sm-4",children:"Attendance Tracking"}),e.jsx("p",{className:"mt-1 fw-medium text-muted mb-0",children:"Monitor employee attendance"})]})})}),e.jsxs(x,{children:[e.jsx(i,{lg:4,md:6,xs:12,className:"mb-3",children:e.jsx(S,{})}),e.jsx(i,{lg:8,md:12,xs:12,children:e.jsx(k,{})})]})]})});export{b as default};
